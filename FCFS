#include<stdio.h>
int P[10],AT[10],BT[10],WT[10],TAT[10],n,i,j,s=0,temp;
float avg;
int main()
{
   printf("Enter no of processes:");
   scanf("%d",&n);
   for(i=0;i<n;i++) 
   {
     printf("Enter process no:");
     scanf("%d",&P[i]);
     printf("Enter arrival time:");
     scanf("%d",&AT[i]);
     printf("Enter burst time:");
     scanf("%d",&BT[i]);
   }
   for(i=0;i<n;i++)
   {
     for(j=i+1;j<n;j++)
     {
         if(AT[i]>AT[j])
         {
            temp=P[i];
            P[i]=P[j];
            P[j]=temp;
            temp=AT[i];
            AT[i]=AT[j];
            AT[j]=temp;
            temp=BT[i];
            BT[i]=BT[j];
            BT[j]=temp;
         }   
     }
   }
   printf("\nAfter Sorting on Arrival Time\n");
   printf("\nProcess\tArrival Time\tBurst Time\n");
   for(i=0;i<n;i++)
   {
       printf("\n%d\t%d\t%d\n",P[i],AT[i],BT[i]);
   }  
   WT[0]=0;
   for(i=0;i<n;i++)
   {
     WT[i+1]=WT[i]+BT[i];
     s=s+(WT[i]-AT[i]);
   }
   WT[n]=WT[n-1]+BT[n-1];
   printf("\nWaiting Time is:%d",s);
   avg=(float)s/(float)n;
   printf("\nAverage Waiting Time is:%f",avg);  
   s=0;
   for(i=0;i<n;i++)
   {
     TAT[i]=WT[i]-AT[i];
     s=s+(WT[i+1]-TAT[i]);
   }
    printf("\nTurn Around Time is:%d",s);
   avg=(float)s/(float)n;
   printf("\nAverage Turn Around Time is:%f",avg);  
   printf("\nGantt Chart is given Below\n");
   printf("\n------------------------------------------\n");
    for(i=0;i<n;i++)
    {
        printf("|\t %d\t",P[i]);
    }
   printf("\n------------------------------------------\n");
   for(i=0;i<n;i++)
    {
        printf("\t %d\t",WT[i]);
    } 
}
